"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
const AWS = require("aws-sdk");
const client = new AWS.Textract();
const handler = async (event = {}) => {
    const key = event.Records[0].s3.object.key;
    console.log(key);
    const params = {
        DocumentPages: [{
                S3Object: {
                    Bucket: event.Records[0].s3.bucket.name,
                    Name: key
                }
            }]
    };
    const response = await client.analyzeID(params).promise();
    try {
        return response;
    }
    catch (err) {
        console.log(err);
    }
};
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dHJhY3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXh0cmFjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwrQkFBK0I7QUFDL0IsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7QUFFM0IsTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFFLFFBQWEsRUFBRSxFQUFnQixFQUFFO0lBQzNELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUE7SUFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVqQixNQUFNLE1BQU0sR0FBa0M7UUFDMUMsYUFBYSxFQUFFLENBQUM7Z0JBQ1osUUFBUSxFQUFFO29CQUNOLE1BQU0sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSTtvQkFDdkMsSUFBSSxFQUFFLEdBQUc7aUJBQ1o7YUFDSixDQUFDO0tBQ0wsQ0FBQztJQUVGLE1BQU0sUUFBUSxHQUFtQyxNQUFNLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFMUYsSUFBSTtRQUNBLE9BQU8sUUFBUSxDQUFDO0tBQ25CO0lBQ0QsT0FBTSxHQUFHLEVBQUU7UUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3BCO0FBRUwsQ0FBQyxDQUFDO0FBdEJXLFFBQUEsT0FBTyxXQXNCbEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBV1MgZnJvbSAnYXdzLXNkayc7XG5jb25zdCBjbGllbnQgPSBuZXcgQVdTLlRleHRyYWN0KCk7XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBhbnkgPSB7fSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQuUmVjb3Jkc1swXS5zMy5vYmplY3Qua2V5XG4gICAgY29uc29sZS5sb2coa2V5KTtcblxuICAgIGNvbnN0IHBhcmFtczogQVdTLlRleHRyYWN0LkFuYWx5emVJRFJlcXVlc3QgPSB7XG4gICAgICAgIERvY3VtZW50UGFnZXM6IFt7XG4gICAgICAgICAgICBTM09iamVjdDoge1xuICAgICAgICAgICAgICAgIEJ1Y2tldDogZXZlbnQuUmVjb3Jkc1swXS5zMy5idWNrZXQubmFtZSxcbiAgICAgICAgICAgICAgICBOYW1lOiBrZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uc2U6IEFXUy5UZXh0cmFjdC5BbmFseXplSURSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5hbmFseXplSUQocGFyYW1zKS5wcm9taXNlKCk7XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cblxufTtcbiJdfQ==